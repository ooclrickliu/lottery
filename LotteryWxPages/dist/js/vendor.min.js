!function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===t&&(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw new TypeError;var n,r=Object(this),i=r.length>>>0,o=0;if("function"!=typeof e)throw new TypeError;if(0==i&&1==arguments.length)throw new TypeError;if(arguments.length>=2)n=arguments[1];else for(;;){if(o in r){n=r[o++];break}if(++o>=i)throw new TypeError}for(;o<i;)o in r&&(n=e.call(t,n,r[o],o,r)),o++;return n})}();var Zepto=function(){function t(t){return"[object Function]"==z.call(t)}function e(t){return t instanceof Object}function n(e){var n,r;if("[object Object]"!==z.call(e))return!1;if(r=t(e.constructor)&&e.constructor.prototype,!r||!hasOwnProperty.call(r,"isPrototypeOf"))return!1;for(n in e);return n===v||hasOwnProperty.call(e,n)}function r(t){return t instanceof Array}function i(t){return"number"==typeof t.length}function o(t){return t.filter(function(t){return t!==v&&null!==t})}function a(t){return t.length>0?[].concat.apply([],t):t}function u(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function s(t){return t in j?j[t]:j[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function c(t,e){return"number"!=typeof e||S[u(t)]?e:e+"px"}function l(t){var e,n;return T[t]||(e=$.createElement(t),$.body.appendChild(e),n=_(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),T[t]=n),T[t]}function f(t,e){return e===v?g(t):g(t).filter(e)}function h(e,n,r,i){return t(n)?n.call(e,r,i):n}function p(t,e,n){var r=t%2?e:e.parentNode;r?r.insertBefore(n,t?1==t?r.firstChild:2==t?e:null:e.nextSibling):g(n).remove()}function d(t,e){e(t);for(var n in t.childNodes)d(t.childNodes[n],e)}var v,m,g,y,x,w,b=[],E=b.slice,$=window.document,T={},j={},_=$.defaultView.getComputedStyle,S={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},O=/^\s*<(\w+|!)[^>]*>/,k=[1,3,8,9,11],C=["after","prepend","before","append"],N=$.createElement("table"),R=$.createElement("tr"),A={tr:$.createElement("tbody"),tbody:N,thead:N,tfoot:N,td:R,th:R,"*":$.createElement("div")},P=/complete|loaded|interactive/,M=/^\.([\w-]+)$/,L=/^#([\w-]+)$/,Z=/^[\w-]+$/,z={}.toString,D={},q=$.createElement("div");return D.matches=function(t,e){if(!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=q).appendChild(t),r=~D.qsa(i,e).indexOf(t),o&&q.removeChild(t),r},x=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},w=function(t){return t.filter(function(e,n){return t.indexOf(e)==n})},D.fragment=function(t,e){e===v&&(e=O.test(t)&&RegExp.$1),e in A||(e="*");var n=A[e];return n.innerHTML=""+t,g.each(E.call(n.childNodes),function(){n.removeChild(this)})},D.Z=function(t,e){return t=t||[],t.__proto__=arguments.callee.prototype,t.selector=e||"",t},D.isZ=function(t){return t instanceof D.Z},D.init=function(e,i){if(e){if(t(e))return g($).ready(e);if(D.isZ(e))return e;var a;if(r(e))a=o(e);else if(n(e))a=[g.extend({},e)],e=null;else if(k.indexOf(e.nodeType)>=0||e===window)a=[e],e=null;else if(O.test(e))a=D.fragment(e.trim(),RegExp.$1),e=null;else{if(i!==v)return g(i).find(e);a=D.qsa($,e)}return D.Z(a,e)}return D.Z()},g=function(t,e){return D.init(t,e)},g.extend=function(t){return E.call(arguments,1).forEach(function(e){for(m in e)e[m]!==v&&(t[m]=e[m])}),t},D.qsa=function(t,e){var n;return t===$&&L.test(e)?(n=t.getElementById(RegExp.$1))?[n]:b:1!==t.nodeType&&9!==t.nodeType?b:E.call(M.test(e)?t.getElementsByClassName(RegExp.$1):Z.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))},g.isFunction=t,g.isObject=e,g.isArray=r,g.isPlainObject=n,g.inArray=function(t,e,n){return b.indexOf.call(e,t,n)},g.trim=function(t){return t.trim()},g.uuid=0,g.map=function(t,e){var n,r,o,u=[];if(i(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&u.push(n);else for(o in t)n=e(t[o],o),null!=n&&u.push(n);return a(u)},g.each=function(t,e){var n,r;if(i(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},g.fn={forEach:b.forEach,reduce:b.reduce,push:b.push,indexOf:b.indexOf,concat:b.concat,map:function(t){return g.map(this,function(e,n){return t.call(e,n,e)})},slice:function(){return g(E.apply(this,arguments))},ready:function(t){return P.test($.readyState)?t(g):$.addEventListener("DOMContentLoaded",function(){t(g)},!1),this},get:function(t){return t===v?E.call(this):this[t]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return this.forEach(function(e,n){t.call(e,n,e)}),this},filter:function(t){return g([].filter.call(this,function(e){return D.matches(e,t)}))},add:function(t,e){return g(w(this.concat(g(t,e))))},is:function(t){return this.length>0&&D.matches(this[0],t)},not:function(e){var n=[];if(t(e)&&e.call!==v)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):i(e)&&t(e.item)?E.call(e):g(e);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return g(n)},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!e(t)?t:g(t)},last:function(){var t=this[this.length-1];return t&&!e(t)?t:g(t)},find:function(t){var e;return e=1==this.length?D.qsa(this[0],t):this.map(function(){return D.qsa(this,t)}),g(e)},closest:function(t,e){for(var n=this[0];n&&!D.matches(n,t);)n=n!==e&&n!==$&&n.parentNode;return g(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=g.map(n,function(t){if((t=t.parentNode)&&t!==$&&e.indexOf(t)<0)return e.push(t),t});return f(e,t)},parent:function(t){return f(w(this.pluck("parentNode")),t)},children:function(t){return f(this.map(function(){return E.call(this.children)}),t)},siblings:function(t){return f(this.map(function(t,e){return E.call(e.parentNode.children).filter(function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return this.map(function(){return this[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==_(this,"").getPropertyValue("display")&&(this.style.display=l(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return this.each(function(){g(this).wrapAll(g(t)[0].cloneNode(!1))})},wrapAll:function(t){return this[0]&&(g(this[0]).before(t=g(t)),t.append(this)),this},unwrap:function(){return this.parent().each(function(){g(this).replaceWith(g(this).children())}),this},clone:function(){return g(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return(t===v?"none"==this.css("display"):t)?this.show():this.hide()},prev:function(){return g(this.pluck("previousElementSibling"))},next:function(){return g(this.pluck("nextElementSibling"))},html:function(t){return t===v?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;g(this).empty().append(h(this,t,e,n))})},text:function(t){return t===v?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(t,n){var r;return"string"==typeof t&&n===v?0==this.length||1!==this[0].nodeType?v:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(r=this[0].getAttribute(t))&&t in this[0]?this[0][t]:r:this.each(function(r){if(1===this.nodeType)if(e(t))for(m in t)this.setAttribute(m,t[m]);else this.setAttribute(t,h(this,n,r,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&this.removeAttribute(t)})},prop:function(t,e){return e===v?this[0]?this[0][t]:v:this.each(function(n){this[t]=h(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+u(t),e);return null!==n?n:v},val:function(t){return t===v?this.length>0?this[0].value:v:this.each(function(e){this.value=h(this,t,e,this.value)})},offset:function(){if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}},css:function(t,e){if(e===v&&"string"==typeof t)return 0==this.length?v:this[0].style[x(t)]||_(this[0],"").getPropertyValue(t);var n="";for(m in t)"string"==typeof t[m]&&""==t[m]?this.each(function(){this.style.removeProperty(u(m))}):n+=u(m)+":"+c(m,t[m])+";";return"string"==typeof t&&(""==e?this.each(function(){this.style.removeProperty(u(t))}):n=u(t)+":"+c(t,e)),this.each(function(){this.style.cssText+=";"+n})},index:function(t){return t?this.indexOf(g(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!(this.length<1)&&s(t).test(this[0].className)},addClass:function(t){return this.each(function(e){y=[];var n=this.className,r=h(this,t,e,n);r.split(/\s+/g).forEach(function(t){g(this).hasClass(t)||y.push(t)},this),y.length&&(this.className+=(n?" ":"")+y.join(" "))})},removeClass:function(t){return this.each(function(e){return t===v?this.className="":(y=this.className,h(this,t,e,y).split(/\s+/g).forEach(function(t){y=y.replace(s(t)," ")}),void(this.className=y.trim()))})},toggleClass:function(t,e){return this.each(function(n){var r=h(this,t,n,this.className);(e===v?!g(this).hasClass(r):e)?g(this).addClass(r):g(this).removeClass(r)})}},["width","height"].forEach(function(t){g.fn[t]=function(e){var n,r=t.replace(/./,function(t){return t[0].toUpperCase()});return e===v?this[0]==window?window["inner"+r]:this[0]==$?$.documentElement["offset"+r]:(n=this.offset())&&n[t]:this.each(function(n){var r=g(this);r.css(t,h(this,e,n,r[t]()))})}}),C.forEach(function(t,n){g.fn[t]=function(){var t=g.map(arguments,function(t){return e(t)?t:D.fragment(t)});if(t.length<1)return this;var r=this.length,i=r>1,o=n<2;return this.each(function(e,a){for(var u=0;u<t.length;u++){var s=t[o?t.length-u-1:u];d(s,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||window.eval.call(window,t.innerHTML)}),i&&e<r-1&&(s=s.cloneNode(!0)),p(n,a,s)}})},g.fn[n%2?t+"To":"insert"+(n?"Before":"After")]=function(e){return g(e)[t](this),this}}),D.Z.prototype=g.fn,D.camelize=x,D.uniq=w,g.zepto=D,g}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=f++)}function n(t,n,o,a){if(n=r(n),n.ns)var u=i(n.ns);return(l[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||u.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!a||t.sel==a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(e,n,r){t.isObject(e)?t.each(e,r):e.split(/\s/).forEach(function(t){r(t,n)})}function a(n,i,a,u,s,c){c=!!c;var f=e(n),h=l[f]||(l[f]=[]);o(i,a,function(e,i){var o=s&&s(i,e),a=o||i,l=function(t){var e=a.apply(n,[t].concat(t.data));return e===!1&&t.preventDefault(),e},f=t.extend(r(e),{fn:i,proxy:l,sel:u,del:o,i:h.length});h.push(f),n.addEventListener(f.e,l,c)})}function u(t,r,i,a){var u=e(t);o(r||"",i,function(e,r){n(t,e,r,a).forEach(function(e){delete l[u][e.i],t.removeEventListener(e.e,e.proxy,!1)})})}function s(e){var n=t.extend({originalEvent:e},e);return t.each(v,function(t,r){n[t]=function(){return this[r]=p,e[t].apply(e,arguments)},n[r]=d}),n}function c(t){if(!("defaultPrevented"in t)){t.defaultPrevented=!1;var e=t.preventDefault;t.preventDefault=function(){this.defaultPrevented=!0,e.call(this)}}}var l=(t.zepto.qsa,{}),f=1,h={};h.click=h.mousedown=h.mouseup=h.mousemove="MouseEvents",t.event={add:a,remove:u},t.proxy=function(n,r){if(t.isFunction(n)){var i=function(){return n.apply(r,arguments)};return i._zid=e(n),i}if("string"==typeof r)return t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e){return this.each(function(){a(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){u(this,t,e)})},t.fn.one=function(t,e){return this.each(function(n,r){a(this,t,e,null,function(t,e){return function(){var n=t.apply(r,arguments);return u(r,e,t),n}})})};var p=function(){return!0},d=function(){return!1},v={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,n,r){var i=!1;return"blur"!=n&&"focus"!=n||(t.iswebkit?n="blur"==n?"focusout":"focus"==n?"focusin":n:i=!0),this.each(function(o,u){a(u,n,r,e,function(n){return function(r){var i,o=t(r.target).closest(e,u).get(0);if(o)return i=t.extend(s(r),{currentTarget:o,liveFired:u}),n.apply(o,[i].concat([].slice.call(arguments,1)))}},i)})},t.fn.undelegate=function(t,e,n){return this.each(function(){u(this,e,n,t)})},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r){return void 0==n||t.isFunction(n)?this.bind(e,n):this.delegate(n,e,r)},t.fn.off=function(e,n,r){return void 0==n||t.isFunction(n)?this.unbind(e,n):this.undelegate(n,e,r)},t.fn.trigger=function(e,n){return"string"==typeof e&&(e=t.Event(e)),c(e),e.data=n,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(e)})},t.fn.triggerHandler=function(e,r){var i,o;return this.each(function(a,u){i=s("string"==typeof e?t.Event(e):e),i.data=r,i.target=u,t.each(n(u,e.type||e),function(t,e){if(o=e.proxy(i),i.isImmediatePropagationStopped())return!1})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){if(t)this.bind(e,t);else if(this.length)try{this.get(0)[e]()}catch(n){}return this}}),t.Event=function(t,e){var n=document.createEvent(h[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0,null,null,null,null,null,null,null,null,null,null,null,null),n}}(Zepto),function(t){function e(t){var e=this.os={},n=this.browser={},r=t.match(/WebKit\/([\d.]+)/),i=t.match(/(Android)\s+([\d.]+)/),o=t.match(/(iPad).*OS\s([\d_]+)/),a=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),u=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),s=u&&t.match(/TouchPad/),c=t.match(/Kindle\/([\d.]+)/),l=t.match(/Silk\/([\d._]+)/),f=t.match(/(BlackBerry).*Version\/([\d.]+)/);(n.webkit=!!r)&&(n.version=r[1]),i&&(e.android=!0,e.version=i[2]),a&&(e.ios=e.iphone=!0,e.version=a[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),u&&(e.webos=!0,e.version=u[2]),s&&(e.touchpad=!0),f&&(e.blackberry=!0,e.version=f[2]),c&&(e.kindle=!0,e.version=c[1]),l&&(n.silk=!0,n.version=l[1]),!l&&e.android&&t.match(/Kindle Fire/)&&(n.silk=!0)}e.call(t,navigator.userAgent),t.__detect=e}(Zepto),function(t,e){function n(t){return t.toLowerCase()}function r(t){return i?i+t:n(t)}var i,o="",a={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},u=window.document,s=u.createElement("div"),c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,l={};t.each(a,function(t,r){if(s.style[t+"TransitionProperty"]!==e)return o="-"+n(t)+"-",i=r,!1}),l[o+"transition-property"]=l[o+"transition-duration"]=l[o+"transition-timing-function"]=l[o+"animation-name"]=l[o+"animation-duration"]="",t.fx={off:i===e&&s.style.transitionProperty===e,cssPrefix:o,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},t.fn.animate=function(e,n,r,i){return t.isObject(n)&&(r=n.easing,i=n.complete,n=n.duration),n&&(n/=1e3),this.anim(e,n,r,i)},t.fn.anim=function(n,r,i,a){var u,s,f,h={},p=this,d=t.fx.transitionEnd;if(r===e&&(r=.4),t.fx.off&&(r=0),"string"==typeof n)h[o+"animation-name"]=n,h[o+"animation-duration"]=r+"s",d=t.fx.animationEnd;else{for(s in n)c.test(s)?(u||(u=[]),u.push(s+"("+n[s]+")")):h[s]=n[s];u&&(h[o+"transform"]=u.join(" ")),t.fx.off||"object"!=typeof n||(h[o+"transition-property"]=Object.keys(n).join(", "),h[o+"transition-duration"]=r+"s",h[o+"transition-timing-function"]=i||"linear")}return f=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(d,arguments.callee)}t(this).css(l),a&&a.call(this)},r>0&&this.bind(d,f),setTimeout(function(){p.css(h),r<=0&&setTimeout(function(){p.each(function(){f.call(this)})},0)},0),this},s=null}(Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.defaultPrevented}function n(t,n,r,i){if(t.global)return e(n||y,r,i)}function r(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var r=e.context;return e.beforeSend.call(r,t,e)!==!1&&n(e,r,"ajaxBeforeSend",[t,e])!==!1&&void n(e,r,"ajaxSend",[t,e])}function a(t,e,r){var i=r.context,o="success";r.success.call(i,t,o,e),n(r,i,"ajaxSuccess",[e,r,t]),s(o,e,r)}function u(t,e,r,i){var o=i.context;i.error.call(o,r,e,t),n(i,o,"ajaxError",[r,i,t]),s(e,r,i)}function s(t,e,r){var o=r.context;r.complete.call(o,e,t),n(r,o,"ajaxComplete",[e,r]),i(r)}function c(){}function l(t){return t&&(t==$?"html":t==E?"json":w.test(t)?"script":b.test(t)&&"xml")||"text"}function f(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){g(e.data)&&(e.data=t.param(e.data)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data))}function p(e,n,r,i){var o=t.isArray(n);t.each(n,function(n,a){i&&(n=r?i:i+"["+(o?"":n)+"]"),!i&&o?e.add(a.name,a.value):(r?t.isArray(a):g(a))?p(e,a,r,n):e.add(n,a)})}var d,v,m=0,g=t.isObject,y=window.document,x=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,E="application/json",$="text/html",T=/^\s*$/;t.active=0,t.ajaxJSONP=function(e){var n,r="jsonp"+ ++m,i=y.createElement("script"),o=function(){t(i).remove(),r in window&&(window[r]=c),s("abort",u,e)},u={abort:o};return e.error&&(i.onerror=function(){u.abort(),e.error()}),window[r]=function(o){clearTimeout(n),t(i).remove(),delete window[r],a(o,u,e)},h(e),i.src=e.url.replace(/=\?/,"="+r),t("head").append(i),e.timeout>0&&(n=setTimeout(function(){u.abort(),s("timeout",u,e)},e.timeout)),u},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:E,xml:"application/xml, text/xml",html:$,text:"text/plain"},crossDomain:!1,timeout:0},t.ajax=function(e){var n=t.extend({},e||{});for(d in t.ajaxSettings)void 0===n[d]&&(n[d]=t.ajaxSettings[d]);r(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host);var i=n.dataType,s=/=\?/.test(n.url);if("jsonp"==i||s)return s||(n.url=f(n.url,"callback=?")),t.ajaxJSONP(n);n.url||(n.url=window.location.toString()),h(n);var p,m=n.accepts[i],g={},y=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,x=t.ajaxSettings.xhr();n.crossDomain||(g["X-Requested-With"]="XMLHttpRequest"),m&&(g.Accept=m,m.indexOf(",")>-1&&(m=m.split(",",2)[0]),x.overrideMimeType&&x.overrideMimeType(m)),(n.contentType||n.data&&"GET"!=n.type.toUpperCase())&&(g["Content-Type"]=n.contentType||"application/x-www-form-urlencoded"),n.headers=t.extend(g,n.headers||{}),x.onreadystatechange=function(){if(4==x.readyState){clearTimeout(p);var t,e=!1;if(x.status>=200&&x.status<300||304==x.status||0==x.status&&"file:"==y){i=i||l(x.getResponseHeader("content-type")),t=x.responseText;try{"script"==i?(0,eval)(t):"xml"==i?t=x.responseXML:"json"==i&&(t=T.test(t)?null:JSON.parse(t))}catch(r){e=r}e?u(e,"parsererror",x,n):a(t,x,n)}else u(null,"error",x,n)}};var w=!("async"in n)||n.async;x.open(n.type,n.url,w);for(v in n.headers)x.setRequestHeader(v,n.headers[v]);return o(x,n)===!1?(x.abort(),!1):(n.timeout>0&&(p=setTimeout(function(){x.onreadystatechange=c,x.abort(),u(null,"timeout",x,n)},n.timeout)),x.send(n.data?n.data:null),x)},t.get=function(e,n){return t.ajax({url:e,success:n})},t.post=function(e,n,r,i){return t.isFunction(n)&&(i=i||r,r=n,n=null),t.ajax({type:"POST",url:e,data:n,success:r,dataType:i})},t.getJSON=function(e,n){return t.ajax({url:e,success:n,dataType:"json"})},t.fn.load=function(e,n){if(!this.length)return this;var r,i=this,o=e.split(/\s/);return o.length>1&&(e=o[0],r=o[1]),t.get(e,function(e){i.html(r?t(y.createElement("div")).html(e.replace(x,"")).find(r).html():e),n&&n.call(i)}),this};var j=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(j(t)+"="+j(e))},p(n,t,e),n.join("&").replace("%20","+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n=[];return t(Array.prototype.slice.call(this.get(0).elements)).each(function(){e=t(this);var r=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&("radio"!=r&&"checkbox"!=r||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(t){function e(t){return"tagName"in t?t:t.parentNode}function n(t,e,n,r){var i=Math.abs(t-e),o=Math.abs(n-r);return i>=o?t-e>0?"Left":"Right":n-r>0?"Up":"Down"}function r(){a=null,u.last&&(u.el.trigger("longTap"),u={})}function i(){a&&clearTimeout(a),a=null}var o,a,u={},s=750;t(document).ready(function(){var c,l;t(document.body).bind("touchstart",function(n){c=Date.now(),l=c-(u.last||c),u.el=t(e(n.touches[0].target)),o&&clearTimeout(o),u.x1=n.touches[0].pageX,u.y1=n.touches[0].pageY,l>0&&l<=250&&(u.isDoubleTap=!0),u.last=c,a=setTimeout(r,s)}).bind("touchmove",function(t){i(),u.x2=t.touches[0].pageX,u.y2=t.touches[0].pageY}).bind("touchend",function(t){i(),u.isDoubleTap?(u.el.trigger("doubleTap"),u={}):u.x2&&Math.abs(u.x1-u.x2)>30||u.y2&&Math.abs(u.y1-u.y2)>30?(u.el.trigger("swipe")&&u.el.trigger("swipe"+n(u.x1,u.x2,u.y1,u.y2)),u={}):"last"in u&&(u.el.trigger("tap"),o=setTimeout(function(){o=null,u.el.trigger("singleTap"),u={}},250))}).bind("touchcancel",function(){o&&clearTimeout(o),a&&clearTimeout(a),a=o=null,u={}})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}})}(Zepto),!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Router",[],e):"object"==typeof exports?exports.Router=e():t.Router=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),s=r(u),c=function(){function t(e){i(this,t),this._options={container:"#container",enter:"enter",enterTimeout:0,leave:"leave",leaveTimeout:0},this._index=1,this._$container=null,this._routes=[],this._default=null,this._options=o({},this._options,e),this._$container=document.querySelector(this._options.container)}return a(t,[{key:"init",value:function(){var t=this;window.addEventListener("hashchange",function(e){var n=s.getHash(e.newURL),r=history.state||{};t.go(n,r._index<=t._index)},!1),history.state&&history.state._index&&(this._index=history.state._index),this._index--;var e=s.getHash(location.href),n=s.getRoute(this._routes,e);return this.go(n?e:this._default),this}},{key:"push",value:function(t){var e=this._routes.filter(function(e){return e.url===t.url})[0];if(e)throw new Error("route "+t.url+" is existed");return t=o({},{url:"*",className:"",render:s.noop,bind:s.noop},t),this._routes.push(t),this}},{key:"setDefault",value:function(t){return this._default=t,this}},{key:"go",value:function(t){var e=this,n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=s.getRoute(this._routes,t);if(!r)throw new Error("url "+t+" was not found");return!function(){var i=function(t){t&&!function(){var t=e._$container.children[0];n&&t.classList.add(e._options.leave),e._options.leaveTimeout>0?setTimeout(function(){t.parentNode.removeChild(t)},e._options.leaveTimeout):t.parentNode.removeChild(t)}()},o=function(i,o){var a=document.createElement("div");r.className&&a.classList.add(r.className),a.innerHTML=o,e._$container.appendChild(a),!n&&e._options.enter&&i&&a.classList.add(e._options.enter),e._options.enterTimeout>0?setTimeout(function(){a.classList.remove(e._options.enter)},e._options.enterTimeout):a.classList.remove(e._options.enter),location.hash="#"+t;try{n?e._index--:e._index++,history.replaceState&&history.replaceState({_index:e._index},"",location.href)}catch(u){}"function"==typeof r.bind&&r.bind.call(a)},a=s.hasChildren(e._$container);i(a);var u=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(t)throw t;o(a,e)},c=r.render(u);c&&"function"==typeof c.then?c.then(function(t){u(null,t)},u):0===r.render.length&&u(null,c)}(),this}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return-1!==t.indexOf("#")?t.substring(t.indexOf("#")+1):"/"}function o(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n],o=[],a=(0,c["default"])(i.url,o),u=a.exec(e);if(u){i.params={};for(var s=0,l=o.length;l>s;s++){var f=o[s],h=f.name;i.params[h]=u[s+1]}return i}}return null}function a(t){var e=t.children;return e.length>0}function u(){}Object.defineProperty(e,"__esModule",{value:!0}),e.getHash=i,e.getRoute=o,e.hasChildren=a,e.noop=u;var s=n(2),c=r(s)},function(t,e,n){function r(t){for(var e,n=[],r=0,i=0,o="";null!=(e=g.exec(t));){var a=e[0],u=e[1],c=e.index;if(o+=t.slice(i,c),i=c+a.length,u)o+=u[1];else{var l=t[i],f=e[2],h=e[3],p=e[4],d=e[5],v=e[6],m=e[7];null!=f&&null!=l&&l!==f&&(o+=f,f=null),o&&(n.push(o),o="");var y="+"===v||"*"===v,x="?"===v||"*"===v,w=e[2]||"/",b=p||d||(m?".*":"[^"+w+"]+?");n.push({name:h||r++,prefix:f||"",delimiter:w,optional:x,repeat:y,pattern:s(b)})}}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function i(t){return a(r(t))}function o(t){return encodeURI(t).replace(/[\/?#'"]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^"+t[n].pattern+"$"));return function(n,r){for(var i="",a=n||{},u=r||{},s=u.pretty?o:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!=typeof l){var f,h=a[l.name];if(null==h){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to be defined')}if(m(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received "'+h+'"');if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=s(h[p]),!e[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');i+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=s(h),!e[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');i+=l.prefix+f}}else i+=l}return i}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function s(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function l(t){return t.sensitive?"":"i"}function f(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return c(t,e)}function h(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(v(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",l(n));return c(o,e)}function p(t,e,n){for(var i=r(t),o=d(i,n),a=0;a<i.length;a++)"string"!=typeof i[a]&&e.push(i[a]);return c(o,e)}function d(t,e){e=e||{};for(var n=e.strict,r=e.end!==!1,i="",o=t[t.length-1],a="string"==typeof o&&/\/$/.test(o),s=0;s<t.length;s++){var c=t[s];if("string"==typeof c)i+=u(c);else{var f=u(c.prefix),h=c.pattern;c.repeat&&(h+="(?:"+f+h+")*"),h=c.optional?f?"(?:"+f+"("+h+"))?":"("+h+")?":f+"("+h+")",i+=h}}return n||(i=(a?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=r?"$":n&&a?"":"(?=\\/|$)",new RegExp("^"+i,l(e))}function v(t,e,n){return e=e||[],m(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp?f(t,e):m(t)?h(t,e,n):p(t,e,n)}var m=n(3);t.exports=v,t.exports.parse=r,t.exports.compile=i,t.exports.tokensToFunction=a,t.exports.tokensToRegExp=d;var g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}}])}),!function(){function t(t){return t.replace(x,"").replace(w,",").replace(b,"").replace(E,"").replace($,"").split(T)}function e(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,r){function i(t){return h+=t.split(/\n/).length-1,l&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=y[1]+e(t)+y[2]+"\n"),t}function o(e){var n=h;if(c?e=c(e,r):a&&(e=e.replace(/\n/g,function(){return h++,"$line="+h+";"})),0===e.indexOf("=")){var i=f&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),i){var o=e.replace(/\s*\([^\)]+\)/,"");p[o]||/^(include|print)$/.test(o)||(e="$escape("+e+")")}else e="$string("+e+")";e=y[1]+e+y[2]}return a&&(e="$line="+n+";"+e),g(t(e),function(t){if(t&&!v[t]){var e;e="print"===t?w:"include"===t?b:p[t]?"$utils."+t:d[t]?"$helpers."+t:"$data."+t,E+=t+"="+e+",",v[t]=!0}}),e+"\n"}var a=r.debug,u=r.openTag,s=r.closeTag,c=r.parser,l=r.compress,f=r.escape,h=1,v={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},m="".trim,y=m?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],x=m?"$out+=text;return $out;":"$out.push(text);",w="function(){var text=''.concat.apply('',arguments);"+x+"}",b="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+x+"}",E="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(a?"$line=0,":""),$=y[0],T="return new String("+y[3]+");";g(n.split(u),function(t){t=t.split(s);var e=t[0],n=t[1];1===t.length?$+=i(e):($+=o(e),n&&($+=i(n)))});var j=E+$+T;a&&(j="try{"+j+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var _=new Function("$data","$filename",j);return _.prototype=p,_}catch(S){throw S.temp="function anonymous($data,$filename) {"+j+"}",S}}var r=function(t,e){return"string"==typeof e?m(e,{filename:t}):a(t,e)};r.version="3.0.0",r.config=function(t,e){i[t]=e};var i=r.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},o=r.cache={};r.render=function(t,e){return m(t,e)};var a=r.renderFile=function(t,e){var n=r.get(t)||v({filename:t,name:"Render Error",message:"Template not found"});return e?n(e):n};r.get=function(t){var e;if(o[t])e=o[t];else if("object"==typeof document){var n=document.getElementById(t);if(n){
var r=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");e=m(r,{filename:t})}}return e};var u=function(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?u(t.call(t)):""),t},s={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(t){return s[t]},l=function(t){return u(t).replace(/&(?![\w#]+;)|[<>"']/g,c)},f=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},h=function(t,e){var n,r;if(f(t))for(n=0,r=t.length;r>n;n++)e.call(t,t[n],n,t);else for(n in t)e.call(t,t[n],n)},p=r.utils={$helpers:{},$include:a,$string:u,$escape:l,$each:h};r.helper=function(t,e){d[t]=e};var d=r.helpers=p.$helpers;r.onerror=function(t){var e="Template Error\n\n";for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";"object"==typeof console&&console.error(e)};var v=function(t){return r.onerror(t),function(){return"{Template Error}"}},m=r.compile=function(t,e){function r(n){try{return new s(n,u)+""}catch(r){return e.debug?v(r)():(e.debug=!0,m(t,e)(n))}}e=e||{};for(var a in i)void 0===e[a]&&(e[a]=i[a]);var u=e.filename;try{var s=n(t,e)}catch(c){return c.filename=u||"anonymous",c.name="Syntax Error",v(c)}return r.prototype=s.prototype,r.toString=function(){return s.toString()},u&&e.cache&&(o[u]=r),r},g=p.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",x=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,w=/[^\w$]+/g,b=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),E=/^\d[^,]*|,\d[^,]*/g,$=/^,+|,+$/g,T=/^$|,+/;i.openTag="{{",i.closeTag="}}";var j=function(t,e){var n=e.split(":"),r=n.shift(),i=n.join(":")||"";return i&&(i=", "+i),"$helpers."+r+"("+t+i+")"};i.parser=function(t){t=t.replace(/^\s/,"");var e=t.split(" "),n=e.shift(),i=e.join(" ");switch(n){case"if":t="if("+i+"){";break;case"else":e="if"===e.shift()?" if("+e.join(" ")+")":"",t="}else"+e+"{";break;case"/if":t="}";break;case"each":var o=e[0]||"$data",a=e[1]||"as",u=e[2]||"$value",s=e[3]||"$index",c=u+","+s;"as"!==a&&(o="[]"),t="$each("+o+",function("+c+"){";break;case"/each":t="});";break;case"echo":t="print("+i+");";break;case"print":case"include":t=n+"("+e.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(i)){var l=!0;0===t.indexOf("#")&&(t=t.substr(1),l=!1);for(var f=0,h=t.split("|"),p=h.length,d=h[f++];p>f;f++)d=j(d,h[f]);t=(l?"=":"=#")+d}else t=r.helpers[n]?"=#"+n+"("+e.join(",")+");":"="+t}return t},"function"==typeof define?define(function(){return r}):"undefined"!=typeof exports?module.exports=r:this.template=r}();